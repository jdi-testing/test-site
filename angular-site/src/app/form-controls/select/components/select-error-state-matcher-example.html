<h2 class="example-h2">
  <a href="https://material.angular.io/components/select/overview#changing-when-error-messages-are-shown">
    Select with a custom ErrorStateMatcher
  </a>
</h2>
<h4>mat-select</h4>
<mat-form-field>
  <mat-label>Choose one</mat-label>
  <mat-select [formControl]="selected" [errorStateMatcher]="matcher" id="mat-error-state-matcher-select">
    <mat-option>Clear</mat-option>
    <mat-option value="valid">Valid option</mat-option>
    <mat-option value="invalid">Invalid option</mat-option>
  </mat-select>
  <mat-hint id="mat-error-state-matcher-hint">Errors appear instantly!</mat-hint>
  <mat-error *ngIf="selected.hasError('required')" id="mat-error-state-matcher-selection">
    You must make a selection
  </mat-error>
  <mat-error *ngIf="selected.hasError('pattern') && !selected.hasError('required')"
             id="mat-error-state-matcher-invalid">
    Your selection is invalid
  </mat-error>
</mat-form-field>

<h4>native html select</h4>
<mat-form-field class="demo-full-width">
  <mat-label>Choose one</mat-label>
  <select matNativeControl [formControl]="nativeSelectFormControl" [errorStateMatcher]="matcher"
          id="native-error-state-matcher-select">
    <option value=""></option>
    <option value="valid" selected>Valid option</option>
    <option value="invalid">Invalid option</option>
  </select>
  <mat-error *ngIf="nativeSelectFormControl.hasError('required')" id="native-error-state-matcher-selection">
    You must make a selection
  </mat-error>
  <mat-error *ngIf="nativeSelectFormControl.hasError('pattern') && !nativeSelectFormControl.hasError('required')"
             id="native-error-state-matcher-invalid">
    Your selection is invalid
  </mat-error>
</mat-form-field>
